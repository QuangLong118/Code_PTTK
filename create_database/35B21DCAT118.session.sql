-- DROP DATABASE 35B21DCAT118

-- CREATE DATABASE 35B21DCAT118

CREATE TABLE 35B21DCAT118.Thanhvien118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    name VARCHAR(100) NOT NULL,
    ngaysinh DATE NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    SDT INT NOT NULL UNIQUE,
    diachi VARCHAR(255) NOT NULL,
    vaitro INT NOT NULL
);


CREATE TABLE 35B21DCAT118.Khachhang118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES Thanhvien118(id)
);

CREATE TABLE 35B21DCAT118.Nhanvien118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES Thanhvien118(id)
);

CREATE TABLE 35B21DCAT118.Nhanvien_Banhang118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES 35B21DCAT118.Thanhvien118(id)
);

CREATE TABLE 35B21DCAT118.Nhanvien_Quanly118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES 35B21DCAT118.Thanhvien118(id)
);

CREATE TABLE 35B21DCAT118.Hoadon118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    thoigiantao DATETIME NOT NULL,
    Khachhang118id INT,
    Nhanvien_Banhang118id INT,
    trangthai INT,
    FOREIGN KEY (Khachhang118id) REFERENCES 35B21DCAT118.Khachhang118(id),
    FOREIGN KEY (Nhanvien_Banhang118id) REFERENCES 35B21DCAT118.Nhanvien_Banhang118(id)
);

CREATE TABLE 35B21DCAT118.Giaodich118 (
    id INT PRIMARY KEY,
    thoigianhoanthanh DATETIME NOT NULL,
    FOREIGN KEY (id) REFERENCES 35B21DCAT118.Hoadon118(id)
);

CREATE TABLE 35B21DCAT118.Hanghoa118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    dongia INT NOT NULL,
    soluongtrongkho INT NOT NULL,
    mota VARCHAR(255)
);

CREATE TABLE 35B21DCAT118.Hangnhap118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES 35B21DCAT118.Hanghoa118(id)
);

CREATE TABLE 35B21DCAT118.Hangxuat118 (
    id INT PRIMARY KEY,
    FOREIGN KEY (id) REFERENCES 35B21DCAT118.Hanghoa118(id)
);

CREATE TABLE 35B21DCAT118.Hoadon_Hangxuat118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    soluong INT NOT NULL,
    Hoadon118id INT,
    Hangxuat118id INT,
    FOREIGN KEY (Hoadon118id) REFERENCES 35B21DCAT118.Hoadon118(id),
    FOREIGN KEY (Hangxuat118id) REFERENCES 35B21DCAT118.Hangxuat118(id)
);

CREATE TABLE 35B21DCAT118.Nhacungcap118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    sdt VARCHAR(15) NOT NULL,
    diachi VARCHAR(255),
    ghichu VARCHAR(255)
);

CREATE TABLE 35B21DCAT118.NCC_Hangnhap118 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    soluong INT NOT NULL,
    sotien INT NOT NULL,
    Nhacungcap118id INT,
    Hangnhap118id INT,
    FOREIGN KEY (Nhacungcap118id) REFERENCES 35B21DCAT118.Nhacungcap118(id),
    FOREIGN KEY (Hangnhap118id) REFERENCES 35B21DCAT118.Hangnhap118(id)
);











